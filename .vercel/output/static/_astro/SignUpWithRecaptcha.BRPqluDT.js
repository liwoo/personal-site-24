import{j as e}from"./jsx-runtime.BBXyepoZ.js";import{h as w,S as N}from"./react-google-recaptcha-v3.esm.IciOIPVp.js";import{T as S,t as m}from"./toaster.B6IUznj_.js";import{c as C}from"./clsx.B-dksMZM.js";import{r as a}from"./index.BJiRiHOl.js";import"./index.O74o0n5A.js";import"./_commonjsHelpers.Cpj98o6Y.js";import"./index.BS0xru2-.js";import"./utils.TBvsX0Bo.js";import"./bundle-mjs.CSqCgoPn.js";import"./index.KbCko3GM.js";function A({inputs:t,buttonLabel:o,inline:h=!0}){const l=a.useRef(),[x,g]=a.useState(),[y,b]=a.useState(!1),[u,p]=a.useState(!1),j=async s=>{s.preventDefault(),p(!0);const r=new FormData(l.current),i=r.get("email"),c=r.get("category"),n=r.get("name");try{(await fetch("/signup-form",{method:"POST",body:JSON.stringify({email:i,category:c,name:n,token:x})})).status===200?(m({variant:"success",title:"Signed Up! ðŸŽ‰",description:"You have successfully signed up for my newsletter. You will receive an email shortly to confirm your subscription. Thank you! ðŸ™Œ"}),k()):m({variant:"destructive",title:"Hmmm ðŸ¤”",description:"It seems like something went wrong. Please try again or reach out to me directly."})}catch{m({variant:"destructive",title:"Error",description:"An error occurred while submitting the form. Please try again later."})}finally{p(!1),b(!0)}},v=a.useCallback(s=>{g(s)},[]),k=()=>{l.current?.reset()};return e.jsxs(e.Fragment,{children:[e.jsx(N,{onVerify:v,refreshReCaptcha:y}),e.jsxs("form",{ref:l,className:"flex flex-col gap-y-2",onSubmit:j,children:[e.jsxs("div",{className:C(u?"opacity-20":"","grid grid-cols-2 gap-4 items-center",t?`md:grid-cols-${t.length+1}`:""),children:[t&&t.map(({type:s="text",name:r,label:i="",autocomplete:c="on",placeholder:n="",dropdownOptions:d=[]})=>r&&e.jsxs("div",{className:"w-full",children:[i&&!h&&e.jsx("label",{htmlFor:r,className:"block text-sm font-medium",children:i}),s=="select"?e.jsx("select",{name:r,id:r,required:!0,autoComplete:c,className:"form-select w-full py-2 px-4 block text-md border border-slate-900 dark:border-slate-300 rounded-lg bg-card",children:d.map(f=>e.jsx("option",{value:f.value,children:f.label}))}):e.jsx("input",{type:s,name:r,required:!0,id:r,autoComplete:c,placeholder:n,className:"py-2 px-4 block w-full text-md border border-slate-900 dark:border-slate-300 rounded-lg bg-card"})]})),o&&e.jsx("div",{children:e.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:u,children:o})})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex",children:e.jsx("input",{id:"disclaimer",name:"disclaimer",required:!0,type:"checkbox",className:"cursor-pointer mt-1 p-2 block w-full text-md rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-slate-900"})}),e.jsx("div",{className:"ml-3",children:e.jsxs("label",{htmlFor:"disclaimer",className:"cursor-pointer select-none text-sm text-gray-600 dark:text-gray-400",children:["Check here if you agree with my",e.jsx("a",{href:"/privacy",children:" Privacy Policy"})]})})]})]})]})}function L({inputs:t,buttonLabel:o}){return e.jsxs(w,{scriptProps:{async:!0},useEnterprise:!0,reCaptchaKey:"6Lfc03YpAAAAAAxYZObQWCJGY9sVJBcvdc-gsutE",children:[e.jsx(A,{inputs:t,buttonLabel:o}),e.jsx(S,{})]})}export{L as default};
